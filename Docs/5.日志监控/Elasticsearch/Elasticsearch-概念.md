# Elasticsearch-概念

## 基础概念

- Index 索引---DB数据库
- Type 类型---数据表
- Document 文档---表中一条记录
- Field 字段---记录中的每个列属性
- Shard 分片---对索引进行分片，分布于集群各个节点上，降低单个节点的压力
- Replica 备份---拷贝分片就完成了备份

## 分片

- **primary shard**：主分片，每个文档都存储在一个分片中，当你存储一个文档的时候，系统会首先存储在主分片中，然后会复制到不同的副本中。默认情况下，一个索引有5个主分片。你可以在事先制定分片的数量，当分片一旦建立，分片的数量则不能修改。

- **replica shard**：副本分片，每一个分片有零个或多个副本。副本主要是主分片的复制，可以 增加高可用性，提高性能。

默认情况下，一个主分配有一个副本，但副本的数量可以在后面动态的配置增加

副本必须部署在不同的节点上，不能部署在和主分片相同的节点上

## 集群

```text
$ curl -X GET 'http://192.168.56.121:9200/_cat/nodes?v'
ip             heap.percent ram.percent cpu load_1m load_5m load_15m node.role master name
192.168.56.121           14          99   0    0.00    0.02     0.05 dilm      -      node-1
192.168.56.123           30          99  14    0.67    0.23     0.11 dilm      -      node-3
192.168.56.122           32          99   0    0.06    0.03     0.05 dilm      *      node-2
```