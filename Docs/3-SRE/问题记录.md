# 日常问题记录

## 问题-1 TCP Retransmission 连接超时

公司局域网内“部分机器”不能访问公司官网 （不同vlan都有出现，windows上这样的情况多一点），但是从外网访问公司官网是正常的。用wireshark 抓包后，发现客户端发出TCP请求后，没有得到ECS服务端Response，导致客户端一直在重发

- https://www.jianshu.com/p/f6db396d01c7
- https://www.todocker.cn/1073.html

扩展：
同时开启timestamp（时间戳）和tw_recycle（快速回收）,会导致在一个MSL时间内只响应timestamp递增的请求，对于时间戳较小的请求都抛弃了（不响应ack）

MSL扩展： RFC793中规定MSL为2分钟，也就是说2分钟内同一个ip的请求的时间戳要求递增，不是递增的话服务器不予响应。

